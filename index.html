<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Budget Planners â€“ Adventure for Less</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

<style>
:root{
  --primary: #2e7d32;
  --primary-dark: #1b5e20;
  --accent: #4fc3f7;
  --accent-warm: #fbc02d;
  --radius-lg: 20px;
}

/* RESET */
*{margin:0;padding:0;box-sizing:border-box}

/* BODY */
body{
  font-family:'Montserrat',sans-serif;
  color:#2e2e2e;
  background:
    linear-gradient(rgba(232,245,233,0.85),rgba(227,242,253,0.85)),
    url('https://english-school-asturias.dukeseducation.es/wp-content/uploads/vivir-en-asturias-1024x614-1.jpg')
    center center;
  background-size:cover;
  background-repeat:no-repeat;
  transition:background-image .8s ease-in-out;
}

/* HEADER */
header{
  padding:120px 20px 140px;
  text-align:center;
  position:relative;
}

header h1{
  font-size:3.8rem;
  font-weight:800;
  background:linear-gradient(90deg,#2e7d32,#43a047,#4fc3f7);
  -webkit-background-clip:text;
  color:transparent;
}

header p{
  margin-top:18px;
  font-size:1.4rem;
  color:white;
  text-shadow:0 3px 8px rgba(0,0,0,.4);
}

/* SECTIONS */
main{max-width:1100px;margin:auto;padding:60px 20px}

h2{
  text-align:center;
  font-size:2.2rem;
  color:var(--primary-dark);
  margin-bottom:35px;
}

/* TRIPS */
.trips{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:28px;
}

.trip{
  background:white;
  padding:26px;
  border-radius:var(--radius-lg);
  border-left:6px solid #43a047;
  box-shadow:0 18px 35px rgba(0,0,0,.12);
  transition:.3s ease;
}

.trip:hover{
  transform:translateY(-6px);
  box-shadow:0 30px 55px rgba(0,0,0,.18);
}

.price{
  margin-top:12px;
  font-weight:700;
  color:var(--primary-dark);
}

/* FORM */
.booking-form{
  background:white;
  padding:32px;
  border-radius:var(--radius-lg);
  box-shadow:0 20px 40px rgba(0,0,0,.12);
}

.booking-form input,
.booking-form select,
.booking-form button{
  width:100%;
  padding:14px;
  margin-bottom:16px;
  border-radius:10px;
  border:1px solid #c8e6c9;
}

.booking-form button{
  background:linear-gradient(90deg,#43a047,#2e7d32);
  color:white;
  font-weight:600;
  border:none;
  cursor:pointer;
}

/* FOOTER */
footer{
  background:linear-gradient(90deg,#1b5e20,#2e7d32);
  color:white;
  text-align:center;
  padding:32px 20px;
}

/* CHAT BUTTON */
.chat-toggle{
  position:fixed;
  bottom:20px;
  right:20px;
  width:58px;
  height:58px;
  background:radial-gradient(circle at 20% 20%, #fbc02d, #43a047);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.7rem;
  cursor:pointer;
  box-shadow:0 12px 30px rgba(0,0,0,.35);
  z-index:9999;
}

/* CHATBOX */
.chatbot{
  position:fixed;
  bottom:95px;
  right:20px;
  width:320px;
  background:white;
  border-radius:18px;
  box-shadow:0 25px 50px rgba(0,0,0,.3);
  transform:scale(0.9);
  opacity:0;
  pointer-events:none;
  transition:.25s ease;
  z-index:10000;
}

.chatbot.active{
  transform:scale(1);
  opacity:1;
  pointer-events:auto;
}

.chat-header{
  background:linear-gradient(90deg,#43a047,#4fc3f7);
  color:white;
  padding:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.chat-close{
  cursor:pointer;
  font-size:1.2rem;
}

.chat-body{
  height:260px;
  overflow-y:auto;
  padding:12px;
  background:#f1f8e9;
}

.message{
  margin-bottom:8px;
  padding:8px 10px;
  border-radius:10px;
  max-width:85%;
}

.message.bot{
  background:#e8f5e9;
  color:#2e7d32;
}

.message.user{
  background:#e3f2fd;
  color:#1a237e;
  margin-left:auto;
}

.chat-input{
  display:flex;
  border-top:1px solid #c8e6c9;
}

.chat-input input{
  flex:1;
  padding:12px;
  border:none;
}

.chat-input button{
  background:#43a047;
  color:white;
  border:none;
  padding:0 16px;
}

</style>
</head>

<body>

<header>
  <h1>Budget Planners</h1>
  <p>Big Adventures. Small Budgets.</p>
</header>

<main>

<h2>Top Budget Adventures</h2>
<div class="trips">
  <div class="trip">
    <h3>Spain â€“ Asturias</h3>
    <p>Green mountains, coastal hikes & villages.</p>
    <div class="price">From â‚¬99</div>
  </div>

  <div class="trip">
    <h3>Switzerland</h3>
    <p>Alpine trails & scenic trains.</p>
    <div class="price">From â‚¬749</div>
  </div>

  <div class="trip">
    <h3>Iceland</h3>
    <p>Glaciers, volcanoes & northern lights.</p>
    <div class="price">From â‚¬949</div>
  </div>
</div>

<h2>Plan Your Hike</h2>
<form class="booking-form" onsubmit="sendToWhatsApp(event)">
  <input id="fullName" type="text" placeholder="Full Name" required>
  <input id="email" type="email" placeholder="Email Address" required>
  <select id="adventure" required>
    <option value="">Choose Adventure</option>
    <option>Asturias</option>
    <option>Switzerland</option>
    <option>Iceland</option>
  </select>
  <input id="date" type="date" required>
  <input id="date1" type="date" required>
  <button type="submit">Start the Journey</button>
</form>

</main>

<footer>
  <p>Â© 2026 BudgetPlanners â€“ Adventure Made Affordable</p>
</footer>

<!-- CHAT BUTTON -->
<div class="chat-toggle" id="chatToggle">ðŸ’¬</div>

<!-- CHATBOX -->
<div class="chatbot" id="chatbot">
  <div class="chat-header">
    <span>Trip Guide Bot</span>
    <span class="chat-close" id="chatClose">âœ–</span>
  </div>

  <div class="chat-body" id="chatBody">
    <div class="message bot">Hey Traveller! Looking for a budget-friendly trip?</div>
  </div>

  <div class="chat-input">
    <input type="text" id="chatInput" placeholder="Ask about trips...">
    <button id="chatSend">Send</button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // ELEMENTS
  const chatToggleBtn = document.getElementById('chatToggle');
  const chatbotEl     = document.getElementById('chatbot');
  const chatCloseBtn  = document.getElementById('chatClose');
  const chatBody      = document.getElementById('chatBody');
  const chatInput     = document.getElementById('chatInput');
  const chatSend      = document.getElementById('chatSend');

  // SAFETY CHECK: if core elements are missing, stop
  if (!chatToggleBtn || !chatbotEl || !chatBody || !chatInput || !chatSend) {
    console.warn('Chat elements not found â€“ check IDs.');
    return;
  }

  // OPEN/CLOSE CHAT
  function toggleChat(forceOpen){
    const isActive  = chatbotEl.classList.contains('active');
    const shouldOpen = forceOpen === true || !isActive;
    chatbotEl.classList.toggle('active', shouldOpen);
    if (shouldOpen) {
      setTimeout(() => chatInput.focus(), 150);
    }
  }

  chatToggleBtn.addEventListener('click', () => toggleChat());
  if (chatCloseBtn) {
    chatCloseBtn.addEventListener('click', () => toggleChat(false));
  }

  // MESSAGES
  function appendMessage(text, type){
    const div = document.createElement('div');
    div.className = 'message ' + type;
    div.textContent = text;
    chatBody.appendChild(div);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  function getBotReply(msg){
    const t = msg.toLowerCase();
    if (t.includes('cheap') || t.includes('budget')) return 'Asturias is our most budget-friendly trip!';
    if (t.includes('best') || t.includes('nature')) return 'Asturias and Iceland are top nature picks.';
    if (t.includes('book')) return 'Use the form above to start your journey.';
    return 'Please fill out the form and we will contact you soon.';
  }

  function sendMessage(){
    const value = chatInput.value.trim();
    if (!value) return;
    appendMessage(value, 'user');
    setTimeout(() => appendMessage(getBotReply(value), 'bot'), 300);
    chatInput.value = '';
  }

  chatSend.addEventListener('click', sendMessage);
  chatInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      e.preventDefault();
      sendMessage();
    }
  });

  // WHATSAPP FORM
  const form = document.querySelector('.booking-form');
  if (form) {
    form.addEventListener('submit', sendToWhatsApp);
  }

  function sendToWhatsApp(event){
    event.preventDefault();

    const name     = document.getElementById('fullName')?.value || '';
    const emailVal = document.getElementById('email')?.value || '';
    const trip     = document.getElementById('adventure')?.value || '';
    const dateFrom = document.getElementById('date')?.value || '';
    const dateTo   = document.getElementById('date1')?.value || '';

    const phone = '34604294900';

    const msg =
      `New Booking Request:%0A` +
      `Name: ${name}%0A` +
      `Email: ${emailVal}%0A` +
      `Trip: ${trip}%0A` +
      `From: ${dateFrom}%0A` +
      `To: ${dateTo}`;

    window.open(`https://wa.me/${phone}?text=${msg}`, '_blank');
  }

  // BACKGROUND SCROLL
  window.addEventListener('scroll', () => {
    const scroll = window.scrollY;
    if (scroll < 400) {
      document.body.style.backgroundImage =
        "linear-gradient(rgba(232,245,233,0.85),rgba(227,242,253,0.85)), url('https://english-school-asturias.dukeseducation.es/wp-content/uploads/vivir-en-asturias-1024x614-1.jpg')";
    } else {
      document.body.style.backgroundImage =
        "linear-gradient(rgba(232,245,233,0.85),rgba(227,242,253,0.85)), url('https://lostinswitzerland.com/wp-content/uploads/2019/07/Oeschinensee14.jpg')";
    }
  });
});
</script>

</body>
</html>
